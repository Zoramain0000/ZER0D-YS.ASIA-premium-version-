<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>üó∫Ô∏è Zero Maps Tracker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Leaflet CSS for maps -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <style>
    body {
      font-family: 'Courier New', monospace;
background-image: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSFVOZ2CsKQIPT0Lk06f5bNALaBIuEhMWppBg&s');
      color: red;
      margin: 0;
      padding: 20px;
    }
    h1 {
      color: red;
    }
    label, select, input, button {
      margin: 10px 0;
      display: block;
      font-family: inherit;
      font-size: 1rem;
    }
    input, select {
      padding: 8px;
      width: 100%;
      max-width: 400px;
background: rgba(0, 0, 0, 0.5);
      color: red;
      border: 1px solid red;
    }
    button {
      background: red;
      color: green;
      border: none;
      padding: 10px 20px;
      cursor: pointer;
      border-radius: 4px;
    }
    button:hover {
background: rgba(0, 0, 0, 0.5);
    }
    #geoIPResult {
      margin-top: 20px;
      padding: 15px;
      border: 1px dashed red;
background: rgba(0, 0, 0, 0.5);
    }
    textarea {
      width: 100%;
      height: 200px;
background: rgba(0, 0, 0, 0.5);
      color: red;
      padding: 10px;
      margin-top: 20px;
      font-family: monospace;
      border: 1px solid red;
    }
    #map {
      height: 400px;
      width: 100%;
      margin-top: 20px;
      border: 1px dashed #38bdf8;
    }
    .multi-select {
      width: 100%;
      max-width: 400px;
    }
    .filter-section {
      margin: 15px 0;
    }
    .api-checkboxes {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    .api-checkbox {
      display: flex;
      align-items: center;
      gap: 5px;
    }
    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid red;
      border-radius: 50%;
      border-top-color: red;
      animation: spin 1s ease-in-out infinite;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  </style>
</head>
<body>

  <h1>üó∫Ô∏è Zero Maps IPv4 Tracker</h1>

  <label for="ipInput">Enter IPv4 Address:</label>
  <input type="text" id="ipInput" placeholder="e.g. 8.8.8.8" />

  <div class="filter-section">
    <label>Filter by Continent/Region:</label>
    <select id="continentFilter" class="multi-select" multiple>
      <option value="africa">Africa</option>
      <option value="asia">Asia</option>
      <option value="europe">Europe</option>
      <option value="north-america">North America</option>
      <option value="south-america">South America</option>
      <option value="oceania">Oceania</option>
      <option value="antarctica">Antarctica</option>
    </select>
  </div>

  <div class="filter-section">
    <label>Select API Providers:</label>
    <div class="api-checkboxes">
      <label class="api-checkbox"><input type="checkbox" name="provider" value="abstract" checked> Abstract</label>
      <label class="api-checkbox"><input type="checkbox" name="provider" value="geolocationio" checked> IPGeolocation.io</label>
      <label class="api-checkbox"><input type="checkbox" name="provider" value="ip2location"> IP2Location</label>
      <label class="api-checkbox"><input type="checkbox" name="provider" value="locationiq"> LocationIQ</label>
      <label class="api-checkbox"><input type="checkbox" name="provider" value="graphhopper"> GraphHopper</label>
      <label class="api-checkbox"><input type="checkbox" name="provider" value="geoapify"> Geoapify</label>
      <label class="api-checkbox"><input type="checkbox" name="provider" value="geocodingmaps"> Geocoding Maps</label>
      <label class="api-checkbox"><input type="checkbox" name="provider" value="opencagedata"> OpenCageData</label>
      <label class="api-checkbox"><input type="checkbox" name="provider" value="distancematrix"> Distance Matrix</label>
      <label class="api-checkbox"><input type="checkbox" name="provider" value="zipcodeapi"> ZipCode API</label>
      <label class="api-checkbox"><input type="checkbox" name="provider" value="billingWhoisFreak"> Billing WhoisFreak</label>
      <label class="api-checkbox"><input type="checkbox" name="provider" value="ipGeolocationWhoisXmlApi"> IP Geolocation WhoisXML</label>
      <label class="api-checkbox"><input type="checkbox" name="provider" value="dnsHistoryWhoisXmlApi"> DNS History WhoisXML</label>
      <label class="api-checkbox"><input type="checkbox" name="provider" value="cloudflareTrace"> Cloudflare Trace</label>
      <label class="api-checkbox"><input type="checkbox" name="provider" value="ipdata"> IPData</label>
      <label class="api-checkbox"><input type="checkbox" name="provider" value="metadapi"> MetadAPI</label>
      <label class="api-checkbox"><input type="checkbox" name="provider" value="smarty"> Smarty</label>
    </div>
  </div>

  <button onclick="trackIP()">Track IP</button>
  <span id="loading" style="display: none;"><span class="loading"></span> Fetching data...</span>

  <div id="geoIPResult"></div>
  <div id="map"></div>

  <h3>üìù Keylogger Output</h3>
  <textarea id="keylogger" readonly></textarea>

  <!-- Leaflet JS for maps -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    let map;
    let markers = [];

    // Initialize map
    function initMap() {
      map = L.map('map').setView([0, 0], 2);
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '¬© OpenStreetMap contributors'
      }).addTo(map);
    }

    // Clear existing markers
    function clearMarkers() {
      markers.forEach(marker => map.removeLayer(marker));
      markers = [];
    }

    // Add a marker to the map
    function addMarker(lat, lng, title) {
      const marker = L.marker([lat, lng]).addTo(map)
        .bindPopup(title);
      markers.push(marker);
      map.setView([lat, lng], 10);
    }

    // Get API URL for a provider
    function getAPIUrl(provider, ipAddress) {
      const apiKeys = {
        abstract: '04e3e0dc50f34d74a60dc7b45a4abf1d',
        geolocationio: '294f98a3977343a8a33f35b7e25d5e61',
        ip2location: 'E30841E50B64D74EC7D7CBE6159A6C28',
        locationiq: '59bcca48bceb97833ffa74410f5bd7b7',
        graphhopper: '2f497f07-cb55-40f1-ac27-34d020addeba',
        geoapify: 'a0809826225144cbb40eeebf7d63d0c7',
        geocodingmaps: '662e28fce0b7f817139327cpx78b703',
        opencagedata: '6da4b5e698bc4e638dd31ebc9fe7af38',
        distancematrix: 'jumQOWCDAbJlt45oCWGFdxXjlKu524y3gSvZI42KH0XLHUeP4XFC3ciq51HJ7UhT',
        zipcodeapi: '01HWQERGEF9KQ4SH4Y6SFQBDHY',
        billingWhoisFreak: '2b5d04a532924334868c28e9e9749c87',
        ipGeolocationWhoisXmlApi: 'at_Ti38rIdTUk3Mj0Vg5KkiT2dtoP8a1',
        dnsHistoryWhoisXmlApi: 'at_Ti38rIdTUk3Mj0Vg5KkiT2dtoP8a1',
        ipdata: '133f11117637a688c35e0464c0911b763c6736f81ab24a30aaef9d07',
        metadapi: '90210',
        smarty: 'ptv9P3P6b7Jl9O8DyddQ'
      };

      switch (provider) {
        case 'abstract':
          return `https://api.abstractapi.com/v1/geoip?ipAddress=${ipAddress}&api_key=${apiKeys.abstract}`;
        case 'geolocationio':
          return `https://api.ipgeolocation.io/ipgeo?apiKey=${apiKeys.geolocationio}&ip=${ipAddress}`;
        case 'ip2location':
          return `https://api.ip2location.com/?ip=${ipAddress}&key=${apiKeys.ip2location}&package=WS6`;
        case 'locationiq':
          return `https://us1.locationiq.com/v1/reverse.php?key=${apiKeys.locationiq}&lat=45.464&lon=9.189&format=json`;
        case 'graphhopper':
          return `https://graphhopper.com/api/1/geocode?q=${ipAddress}&key=${apiKeys.graphhopper}`;
        case 'geoapify':
          return `https://api.geoapify.com/v1/ipinfo?ip=${ipAddress}&apiKey=${apiKeys.geoapify}`;
        case 'geocodingmaps':
          return `https://geocoding.maps.com/api/v1/geocode?ip=${ipAddress}&key=${apiKeys.geocodingmaps}`;
        case 'opencagedata':
          return `https://api.opencagedata.com/geocode/v1/json?q=${ipAddress}&key=${apiKeys.opencagedata}`;
        case 'distancematrix':
          return `https://distancematrix.ai/api/v1/route?key=${apiKeys.distancematrix}&ip=${ipAddress}`;
        case 'zipcodeapi':
          return `https://api.zipcodestack.com/v1/lookup?apikey=${apiKeys.zipcodeapi}&ip=${ipAddress}`;
        case 'billingWhoisFreak':
          return `https://billimg.whoisfreak.com/v1/details?apikey=${apiKeys.billingWhoisFreak}&ip=${ipAddress}`;
        case 'ipGeolocationWhoisXmlApi':
          return `https://ip-geolocation.whoisxmlapi.com/api/v1?apiKey=${apiKeys.ipGeolocationWhoisXmlApi}&ipAddress=${ipAddress}`;
        case 'dnsHistoryWhoisXmlApi':
          return `https://dns-history.whoisxmlapi.com/api/v1?apiKey=${apiKeys.dnsHistoryWhoisXmlApi}&ipAddress=${ipAddress}`;
        case 'cloudflareTrace':
          return `https://api.cloudflare.com/client/v4/trace?ip=${ipAddress}`;
        case 'ipdata':
          return `https://api.ipdata.co/${ipAddress}?api-key=${apiKeys.ipdata}`;
        case 'metadapi':
          return `https://metadapi.com/api/${ipAddress}?key=${apiKeys.metadapi}`;
        case 'smarty':
          return `https://smarty.com/api/${ipAddress}?key=${apiKeys.smarty}`;
        default:
          return '';
      }
    }

// Display data and update map (supports multi-provider and continent filtering)
function displayData(data, provider, selectedContinents = []) {
  const geoIPResult = document.getElementById('geoIPResult');
  const currentDate = new Date().toLocaleString();
  const lat = data.latitude || data.lat || 0;
  const lng = data.longitude || data.lon || 0;

  // Skip if continent filter is active and doesn't match
  if (selectedContinents.length > 0) {
    const continent = data.continent || data.region_name?.toLowerCase() || '';
    if (!selectedContinents.some(c => continent.includes(c))) {
      return; // Skip display/logging
    }
  }

  // Build HTML for results
  let resultHTML = `
    <h3>Results from ${provider}:</h3>
    <p>Status: ${data.status || 'N/A'}</p>
    <p>Country: ${data.country_name || data.country || 'N/A'}</p>
    <p>Country Code: ${data.country_code || 'N/A'}</p>
    <p>Region: ${data.region || 'N/A'}</p>
    <p>Region Name: ${data.region_name || 'N/A'}</p>
    <p>City: ${data.city || 'N/A'}</p>
    <p>District: ${data.district || 'N/A'}</p>
    <p>ZIP: ${data.zip || 'N/A'}</p>
    <p>Coordinates: ${lat}, ${lng}</p>
    <p>ISP: ${data.isp || 'N/A'}</p>
    <p>Organization: ${data.organization || 'N/A'}</p>
    <p>AS: ${data.as || 'N/A'}</p>
    <p>AS Name: ${data.as_name || 'N/A'}</p>
    <p>Timezone: ${data.timezone || 'N/A'}</p>
    <p>Date: ${currentDate}</p>
    ${selectedContinents.length > 0 ? `<p>Filtered by: ${selectedContinents.join(', ')}</p>` : ''}
    <hr>
  `;

  geoIPResult.innerHTML += resultHTML;

  // Add marker to map if coordinates exist
  if (lat && lng) {
    addMarker(lat, lng, `${provider}: ${data.city || 'Unknown'}`);
  }

  // Log data
  logData(data, provider, selectedContinents);
}

// Log data to textarea (structured format)
function logData(data, provider, selectedContinents = []) {
  const logEntry = `
[${provider}] ${new Date().toLocaleString()}
Status: ${data.status || 'N/A'}
Country: ${data.country_name || data.country || 'N/A'}
Country Code: ${data.country_code || 'N/A'}
Region: ${data.region || 'N/A'}
Region Name: ${data.region_name || 'N/A'}
City: ${data.city || 'N/A'}
District: ${data.district || 'N/A'}
ZIP: ${data.zip || 'N/A'}
Coordinates: ${data.latitude || 'N/A'}, ${data.longitude || 'N/A'}
ISP: ${data.isp || 'N/A'}
Organization: ${data.organization || 'N/A'}
AS: ${data.as || 'N/A'}
AS Name: ${data.as_name || 'N/A'}
Timezone: ${data.timezone || 'N/A'}
${selectedContinents.length > 0 ? `Filtered by: ${selectedContinents.join(', ')}` : ''}
------------------------------------
`;
  document.getElementById('keylogger').value += logEntry;
}


    // Track IP using selected providers
    async function trackIP() {
      const ipAddress = document.getElementById('ipInput').value.trim();
      if (!ipAddress) return alert('Please enter a valid IPv4 address');

      const selectedProviders = Array.from(document.querySelectorAll('input[name="provider"]:checked')).map(el => el.value);
      if (selectedProviders.length === 0) return alert('Select at least one API provider');

      clearMarkers();
      document.getElementById('geoIPResult').innerHTML = '';
      document.getElementById('keylogger').value = '';
      document.getElementById('loading').style.display = 'inline-block';

      for (const provider of selectedProviders) {
        const url = getAPIUrl(provider, ipAddress);
        try {
          const response = await fetch(url);
          const data = await response.json();
          displayData(data, provider);
        } catch (err) {
          document.getElementById('geoIPResult').innerHTML += `<p>Error with ${provider}: ${err.message}</p>`;
          logData({ error: err.message }, provider);
        }
      }

      document.getElementById('loading').style.display = 'none';
    }

    // Initialize the map on page load
    window.onload = initMap;

    // Keylogger for debugging (optional)
    document.addEventListener('keydown', (e) => {
      const keylogger = document.getElementById('keylogger');
      keylogger.value += `[Key Pressed] ${e.key}\n`;
      keylogger.scrollTop = keylogger.scrollHeight;
    });
  </script>
</body>
</html>

