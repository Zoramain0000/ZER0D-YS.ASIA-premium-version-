<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>üî¢ ISBN Generator Tool</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #0f172a;
      color: #f8fafc;
      margin: 0;
      padding: 2rem;
    }
    h1 {
      text-align: center;
      color: #38bdf8;
    }
    .container {
      max-width: 500px;
      margin: auto;
      background: #1e293b;
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 0 10px #000;
    }
    label {
      display: block;
      margin: 1rem 0 0.5rem;
    }
    input[type="text"], select {
      width: 100%;
      padding: 0.6rem;
      background: #334155;
      border: none;
      color: #f8fafc;
      font-size: 1rem;
      border-radius: 6px;
    }
    button {
      margin-top: 1.5rem;
      padding: 0.8rem;
      background: #38bdf8;
      color: #0f172a;
      border: none;
      width: 100%;
      font-weight: bold;
      font-size: 1rem;
      border-radius: 6px;
      cursor: pointer;
    }
    pre {
      background: #0f172a;
      padding: 1rem;
      border-radius: 6px;
      margin-top: 1rem;
      font-size: 1.2rem;
      text-align: center;
      color: #38fdd8;
    }
  </style>
</head>
<body>
  <h1>üî¢ ISBN Generator</h1>
  <div class="container">
    <label for="isbnType">ISBN Type:</label>
    <select id="isbnType">
      <option value="10">ISBN-10</option>
      <option value="13" selected>ISBN-13</option>
    </select>

    <label for="prefix">Prefix (first digits):</label>
    <input type="text" id="prefix" placeholder="e.g. 978030" maxlength="9" />

    <button onclick="generateISBN()">üé≤ Generate ISBN</button>

    <pre id="output">Generated ISBN will appear here...</pre>
  </div>

  <script>
    function generateISBN() {
      const type = document.getElementById("isbnType").value;
      const prefix = document.getElementById("prefix").value.trim().replace(/[^0-9]/g, "");
      const output = document.getElementById("output");

      if ((type === "13" && prefix.length >= 12) || (type === "10" && prefix.length >= 9)) {
        output.textContent = "‚ö†Ô∏è Prefix too long.";
        return;
      }

      let base = prefix;
      while ((type === "13" && base.length < 12) || (type === "10" && base.length < 9)) {
        base += Math.floor(Math.random() * 10);
      }

      let checkDigit;
      if (type === "13") {
        checkDigit = computeISBN13Check(base);
      } else {
        checkDigit = computeISBN10Check(base);
      }

      const fullISBN = base + checkDigit;
      output.textContent = `${type === "13" ? "ISBN-13" : "ISBN-10"}: ${fullISBN}`;
    }

    function computeISBN13Check(digits) {
      let sum = 0;
      for (let i = 0; i < 12; i++) {
        sum += parseInt(digits[i]) * (i % 2 === 0 ? 1 : 3);
      }
      const check = (10 - (sum % 10)) % 10;
      return check.toString();
    }

    function computeISBN10Check(digits) {
      let sum = 0;
      for (let i = 0; i < 9; i++) {
        sum += (10 - i) * parseInt(digits[i]);
      }
      const remainder = 11 - (sum % 11);
      if (remainder === 10) return "X";
      if (remainder === 11) return "0";
      return remainder.toString();
    }
  </script>
</body>
</html>
