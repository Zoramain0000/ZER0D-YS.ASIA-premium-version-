
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>üì± IMEI Finder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
background-image: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSFVOZ2CsKQIPT0Lk06f5bNALaBIuEhMWppBg&s');
      color: red;
      padding: 20px;
      display: flex;
      flex-direction: column;
    }
    h1 {
      color: red;
      text-align: center;
    }
    .container {
      display: flex;
      flex-direction: row;
      gap: 20px;
    }
    .left, .right {
      flex: 1;
    }
    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
      justify-content: center;
    }
    select, button {
      padding: 10px;
      border: none;
      border-radius: 6px;
      font-size: 1rem;
    }
    select {
background: rgba(0, 0, 0, 0.5);
      color: red;
      width: 220px;
    }
    button {
      background-color: red;
      color: green;
      cursor: pointer;
      font-weight: bold;
    }
    button:hover {
background: rgba(0, 0, 0, 0.5);
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    th, td {
      padding: 10px;
      border: 1px solid red;
      text-align: center;
    }
    th {
background: rgba(0, 0, 0, 0.5);
    }
    .summary {
background: rgba(0, 0, 0, 0.5);
      border: 1px solid red;
      padding: 10px;
      border-radius: 8px;
      max-height: 300px;
      overflow-y: auto;
      margin-top: 10px;
    }
    .summary h3 {
      margin-top: 0;
      color: red;
    }
    .summary ul {
      list-style: none;
      padding: 0;
      font-size: 0.95em;
    }
    .summary li {
      margin: 4px 0;
    }
    canvas {
      margin-top: 10px;
background: rgba(0, 0, 0, 0.5);
      padding: 10px;
      border-radius: 8px;
    }
    @media (max-width: 768px) {
      .container {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>

<h1>üì± IMEI Finder </h1>

<div class="controls">
  <select id="countrySelect"></select>
  <button onclick="generateIMEI()">üîÑ Generate IMEI</button>
  <button onclick="generate100()">üíØ Generate 100 IMEIs</button>
  <button onclick="startAuto()">‚ñ∂Ô∏è Auto Generate</button>
  <button onclick="stopAuto()">‚èπÔ∏è Stop</button>
  <button onclick="exportCSV()">üì§ Export CSV</button>
  <button onclick="clearTable()">üßπ Clear</button>
</div>

<div class="container">
  <div class="left">
    <canvas id="imeiChart" width="400" height="250"></canvas>

    <div class="summary">
      <h3>üìä IMEI Count per Country</h3>
      <ul id="countryCountList"></ul>
    </div>

    <table id="imeiTable">
      <thead>
        <tr>
          <th>#</th>
          <th>Country</th>
          <th>IMEI Number</th>
        </tr>
      </thead>
      <tbody id="imeiBody"></tbody>
    </table>
  </div>
</div>

<script>
    
const countries = [
  { name: "Afghanistan", flag: "üá¶üá´" }, { name: "Albania", flag: "üá¶üá±" },
  { name: "Algeria", flag: "üá©üáø" }, { name: "Andorra", flag: "üá¶üá©" },
  { name: "Angola", flag: "üá¶üá¥" }, { name: "Antigua and Barbuda", flag: "üá¶üá¨" },
  { name: "Argentina", flag: "üá¶üá∑" }, { name: "Armenia", flag: "üá¶üá≤" },
  { name: "Australia", flag: "üá¶üá∫" }, { name: "Austria", flag: "üá¶üáπ" },
  { name: "Azerbaijan", flag: "üá¶üáø" }, { name: "Bahamas", flag: "üáßüá∏" },
  { name: "Bahrain", flag: "üáßüá≠" }, { name: "Bangladesh", flag: "üáßüá©" },
  { name: "Barbados", flag: "üáßüáß" }, { name: "Belarus", flag: "üáßüáæ" },
  { name: "Belgium", flag: "üáßüá™" }, { name: "Belize", flag: "üáßüáø" },
  { name: "Benin", flag: "üáßüáØ" }, { name: "Bhutan", flag: "üáßüáπ" },
  { name: "Bolivia", flag: "üáßüá¥" }, { name: "Bosnia and Herzegovina", flag: "üáßüá¶" },
  { name: "Botswana", flag: "üáßüáº" }, { name: "Brazil", flag: "üáßüá∑" },
  { name: "Brunei", flag: "üáßüá≥" }, { name: "Bulgaria", flag: "üáßüá¨" },
  { name: "Burkina Faso", flag: "üáßüá´" }, { name: "Burundi", flag: "üáßüáÆ" },
  { name: "Cabo Verde", flag: "üá®üáª" }, { name: "Cambodia", flag: "üá∞üá≠" },
  { name: "Cameroon", flag: "üá®üá≤" }, { name: "Canada", flag: "üá®üá¶" },
  { name: "Central African Republic", flag: "üá®üá´" }, { name: "Chad", flag: "üáπüá©" },
  { name: "Chile", flag: "üá®üá±" }, { name: "China", flag: "üá®üá≥" },
  { name: "Colombia", flag: "üá®üá¥" }, { name: "Comoros", flag: "üá∞üá≤" },
  { name: "Congo (Congo-Brazzaville)", flag: "üá®üá¨" }, { name: "Costa Rica", flag: "üá®üá∑" },
  { name: "Croatia", flag: "üá≠üá∑" }, { name: "Cuba", flag: "üá®üá∫" },
  { name: "Cyprus", flag: "üá®üáæ" }, { name: "Czech Republic", flag: "üá®üáø" },
  { name: "Denmark", flag: "üá©üá∞" }, { name: "Djibouti", flag: "üá©üáØ" },
  { name: "Dominica", flag: "üá©üá≤" }, { name: "Dominican Republic", flag: "üá©üá¥" },
  { name: "Ecuador", flag: "üá™üá®" }, { name: "Egypt", flag: "üá™üá¨" },
  { name: "El Salvador", flag: "üá∏üáª" }, { name: "Equatorial Guinea", flag: "üá¨üá∂" },
  { name: "Eritrea", flag: "üá™üá∑" }, { name: "Estonia", flag: "üá™üá™" },
  { name: "Eswatini", flag: "üá∏üáø" }, { name: "Ethiopia", flag: "üá™üáπ" },
  { name: "Fiji", flag: "üá´üáØ" }, { name: "Finland", flag: "üá´üáÆ" },
  { name: "France", flag: "üá´üá∑" }, { name: "Gabon", flag: "üá¨üá¶" },
  { name: "Gambia", flag: "üá¨üá≤" }, { name: "Georgia", flag: "üá¨üá™" },
  { name: "Germany", flag: "üá©üá™" }, { name: "Ghana", flag: "üá¨üá≠" },
  { name: "Greece", flag: "üá¨üá∑" }, { name: "Grenada", flag: "üá¨üá©" },
  { name: "Guatemala", flag: "üá¨üáπ" }, { name: "Guinea", flag: "üá¨üá≥" },
  { name: "Guinea-Bissau", flag: "üá¨üáº" }, { name: "Guyana", flag: "üá¨üáæ" },
  { name: "Haiti", flag: "üá≠üáπ" }, { name: "Honduras", flag: "üá≠üá≥" },
  { name: "Hungary", flag: "üá≠üá∫" }, { name: "Iceland", flag: "üáÆüá∏" },
  { name: "India", flag: "üáÆüá≥" }, { name: "Indonesia", flag: "üáÆüá©" },
  { name: "Iran", flag: "üáÆüá∑" }, { name: "Iraq", flag: "üáÆüá∂" },
  { name: "Ireland", flag: "üáÆüá™" }, { name: "Israel", flag: "üáÆüá±" },
  { name: "Italy", flag: "üáÆüáπ" }, { name: "Jamaica", flag: "üáØüá≤" },
  { name: "Japan", flag: "üáØüáµ" }, { name: "Jordan", flag: "üáØüá¥" },
  { name: "Kazakhstan", flag: "üá∞üáø" }, { name: "Kenya", flag: "üá∞üá™" },
  { name: "Kiribati", flag: "üá∞üáÆ" }, { name: "Kuwait", flag: "üá∞üáº" },
  { name: "Kyrgyzstan", flag: "üá∞üá¨" }, { name: "Laos", flag: "üá±üá¶" },
  { name: "Latvia", flag: "üá±üáª" }, { name: "Lebanon", flag: "üá±üáß" },
  { name: "Lesotho", flag: "üá±üá∏" }, { name: "Liberia", flag: "üá±üá∑" },
  { name: "Libya", flag: "üá±üáæ" }, { name: "Liechtenstein", flag: "üá±üáÆ" },
  { name: "Lithuania", flag: "üá±üáπ" }, { name: "Luxembourg", flag: "üá±üá∫" },
  { name: "Madagascar", flag: "üá≤üá¨" }, { name: "Malawi", flag: "üá≤üáº" },
  { name: "Malaysia", flag: "üá≤üáæ" }, { name: "Maldives", flag: "üá≤üáª" },
  { name: "Mali", flag: "üá≤üá±" }, { name: "Malta", flag: "üá≤üáπ" },
  { name: "Marshall Islands", flag: "üá≤üá≠" }, { name: "Mauritania", flag: "üá≤üá∑" },
  { name: "Mauritius", flag: "üá≤üá∫" }, { name: "Mexico", flag: "üá≤üáΩ" },
  { name: "Micronesia", flag: "üá´üá≤" }, { name: "Moldova", flag: "üá≤üá©" },
  { name: "Monaco", flag: "üá≤üá®" }, { name: "Mongolia", flag: "üá≤üá≥" },
  { name: "Montenegro", flag: "üá≤üá™" }, { name: "Morocco", flag: "üá≤üá¶" },
  { name: "Mozambique", flag: "üá≤üáø" }, { name: "Myanmar (Burma)", flag: "üá≤üá≤" },
  { name: "Namibia", flag: "üá≥üá¶" }, { name: "Nauru", flag: "üá≥üá∑" },
  { name: "Nepal", flag: "üá≥üáµ" }, { name: "Netherlands", flag: "üá≥üá±" },
  { name: "New Zealand", flag: "üá≥üáø" }, { name: "Nicaragua", flag: "üá≥üáÆ" },
  { name: "Niger", flag: "üá≥üá™" }, { name: "Nigeria", flag: "üá≥üá¨" },
  { name: "North Korea", flag: "üá∞üáµ" }, { name: "North Macedonia", flag: "üá≤üá∞" },
  { name: "Norway", flag: "üá≥üá¥" }, { name: "Oman", flag: "üá¥üá≤" },
  { name: "Pakistan", flag: "üáµüá∞" }, { name: "Palau", flag: "üáµüáº" },
  { name: "Panama", flag: "üáµüá¶" }, { name: "Papua New Guinea", flag: "üáµüá¨" },
  { name: "Paraguay", flag: "üáµüáæ" }, { name: "Peru", flag: "üáµüá™" },
  { name: "Philippines", flag: "üáµüá≠" }, { name: "Poland", flag: "üáµüá±" },
  { name: "Portugal", flag: "üáµüáπ" }, { name: "Qatar", flag: "üá∂üá¶" },
  { name: "Romania", flag: "üá∑üá¥" }, { name: "Russia", flag: "üá∑üá∫" },
  { name: "Rwanda", flag: "üá∑üáº" }, { name: "Saint Kitts and Nevis", flag: "üá∞üá≥" },
  { name: "Saint Lucia", flag: "üá±üá®" }, { name: "Saint Vincent and the Grenadines", flag: "üáªüá®" },
  { name: "Samoa", flag: "üáºüá∏" }, { name: "San Marino", flag: "üá∏üá≤" },
  { name: "Sao Tome and Principe", flag: "üá∏üáπ" }, { name: "Saudi Arabia", flag: "üá∏üá¶" },
  { name: "Senegal", flag: "üá∏üá≥" }, { name: "Serbia", flag: "üá∑üá∏" },
  { name: "Seychelles", flag: "üá∏üá®" }, { name: "Sierra Leone", flag: "üá∏üá±" },
  { name: "Singapore", flag: "üá∏üá¨" }, { name: "Slovakia", flag: "üá∏üá∞" },
  { name: "Slovenia", flag: "üá∏üáÆ" }, { name: "Solomon Islands", flag: "üá∏üáß" },
  { name: "Somalia", flag: "üá∏üá¥" }, { name: "South Africa", flag: "üáøüá¶" },
  { name: "South Korea", flag: "üá∞üá∑" }, { name: "South Sudan", flag: "üá∏üá∏" },
  { name: "Spain", flag: "üá™üá∏" }, { name: "Sri Lanka", flag: "üá±üá∞" },
  { name: "Sudan", flag: "üá∏üá©" }, { name: "Suriname", flag: "üá∏üá∑" },
  { name: "Sweden", flag: "üá∏üá™" }, { name: "Switzerland", flag: "üá®üá≠" },
  { name: "Syria", flag: "üá∏üáæ" }, { name: "Taiwan", flag: "üáπüáº" },
  { name: "Tajikistan", flag: "üáπüáØ" }, { name: "Tanzania", flag: "üáπüáø" },
  { name: "Thailand", flag: "üáπüá≠" }, { name: "Timor-Leste", flag: "üáπüá±" },
  { name: "Togo", flag: "üáπüá¨" }, { name: "Tonga", flag: "üáπüá¥" },
  { name: "Trinidad and Tobago", flag: "üáπüáπ" }, { name: "Tunisia", flag: "üáπüá≥" },
  { name: "Turkey", flag: "üáπüá∑" }, { name: "Turkmenistan", flag: "üáπüá≤" },
  { name: "Tuvalu", flag: "üáπüáª" }, { name: "Uganda", flag: "üá∫üá¨" },
  { name: "Ukraine", flag: "üá∫üá¶" }, { name: "United Arab Emirates", flag: "üá¶üá™" },
  { name: "United Kingdom", flag: "üá¨üáß" }, { name: "United States", flag: "üá∫üá∏" },
  { name: "Uruguay", flag: "üá∫üáæ" }, { name: "Uzbekistan", flag: "üá∫üáø" },
  { name: "Vanuatu", flag: "üáªüá∫" }, { name: "Vatican City", flag: "üáªüá¶" },
  { name: "Venezuela", flag: "üáªüá™" }, { name: "Vietnam", flag: "üáªüá≥" },
  { name: "Yemen", flag: "üáæüá™" }, { name: "Zambia", flag: "üáøüá≤" },
  { name: "Zimbabwe", flag: "üáøüáº" }
];

    
  const countrySelect = document.getElementById("countrySelect");
  const imeiBody = document.getElementById("imeiBody");
  const countryCountList = document.getElementById("countryCountList");
  let autoInterval = null;
  let chart;
  const logs = JSON.parse(localStorage.getItem("imeiLogs") || "[]");
  const countryCounts = JSON.parse(localStorage.getItem("imeiCounts") || "{}");

  countries.forEach(c => {
    const option = document.createElement("option");
    option.value = c.name;
    option.textContent = `${c.flag} ${c.name}`;
    countrySelect.appendChild(option);
  });

  logs.forEach((log, i) => addRow(log, i + 1));
  updateSummary();
  renderChart();

  function generateIMEI() {
    const selected = countrySelect.value;
    const flag = countries.find(c => c.name === selected)?.flag || "üåç";
    const imei = generateValidIMEI();
    const index = imeiBody.children.length + 1;
    const log = { index, country: selected, flag, imei };
    logs.push(log);
    countryCounts[selected] = (countryCounts[selected] || 0) + 1;
    saveToLocalStorage();
    addRow(log, index);
    updateSummary();
    renderChart();
  }

  function generate100() {
    const selected = countrySelect.value;
    const flag = countries.find(c => c.name === selected)?.flag || "üåç";
    for (let i = 0; i < 100; i++) {
      const imei = generateValidIMEI();
      const index = imeiBody.children.length + 1;
      const log = { index, country: selected, flag, imei };
      logs.push(log);
      countryCounts[selected] = (countryCounts[selected] || 0) + 1;
      addRow(log, index);
    }
    saveToLocalStorage();
    updateSummary();
    renderChart();
  }

  function generateValidIMEI() {
    let imei = '';
    for (let i = 0; i < 14; i++) imei += Math.floor(Math.random() * 10);
    return imei + luhnChecksum(imei);
  }

  function luhnChecksum(number) {
    let sum = 0;
    for (let i = 0; i < number.length; i++) {
      let n = parseInt(number[number.length - 1 - i]);
      if (i % 2 === 0) {
        n *= 2;
        if (n > 9) n -= 9;
      }
      sum += n;
    }
    return (10 - (sum % 10)) % 10;
  }

  function addRow(log, index) {
    const row = document.createElement("tr");
    row.innerHTML = `<td>${index}</td><td>${log.flag} ${log.country}</td><td>${log.imei}</td>`;
    imeiBody.appendChild(row);
  }

  function updateSummary() {
    countryCountList.innerHTML = '';
    Object.entries(countryCounts).sort((a, b) => b[1] - a[1]).forEach(([country, count]) => {
      const flag = countries.find(c => c.name === country)?.flag || "üåê";
      const li = document.createElement("li");
      li.textContent = `${flag} ${country}: ${count} IMEIs`;
      countryCountList.appendChild(li);
    });
  }

  function renderChart() {
    const labels = Object.keys(countryCounts);
    const data = Object.values(countryCounts);

    if (chart) chart.destroy();

    const ctx = document.getElementById("imeiChart").getContext("2d");
    chart = new Chart(ctx, {
      type: "bar",
      data: {
        labels,
        datasets: [{
          label: "IMEI Volume",
          data,
          backgroundColor: "#8ab4f8",
          borderColor: "#5a90f0",
          borderWidth: 1
        }]
      },
      options: {
        plugins: {
          legend: { labels: { color: "#fff" } }
        },
        scales: {
          x: {
            ticks: { color: "#fff" },
            grid: { color: "#444" }
          },
          y: {
            beginAtZero: true,
            ticks: { color: "#fff" },
            grid: { color: "#444" }
          }
        }
      }
    });
  }

  function exportCSV() {
    const rows = [["#", "Country", "IMEI"]];
    logs.forEach((log, i) => {
      rows.push([i + 1, log.country, log.imei]);
    });
    const csv = rows.map(r => r.join(",")).join("\n");
    const blob = new Blob([csv], { type: "text/csv" });
    const link = document.createElement("a");
    link.href = URL.createObjectURL(blob);
    link.download = "imei_list.csv";
    link.click();
  }

  function clearTable() {
    imeiBody.innerHTML = '';
    logs.length = 0;
    for (const key in countryCounts) delete countryCounts[key];
    saveToLocalStorage();
    updateSummary();
    renderChart();
  }

  function startAuto() {
    if (!autoInterval) autoInterval = setInterval(generateIMEI, 5);
  }

  function stopAuto() {
    clearInterval(autoInterval);
    autoInterval = null;
  }

  function saveToLocalStorage() {
    localStorage.setItem("imeiLogs", JSON.stringify(logs));
    localStorage.setItem("imeiCounts", JSON.stringify(countryCounts));
  }
</script>

</body>
</html>
