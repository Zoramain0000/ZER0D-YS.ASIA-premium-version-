<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Randomness Tester | Cyber Tools Toolkit</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: black;
      color: #c58b00;
      overflow-x: hidden;
    }
    video.bg-video {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      object-fit: cover;
      z-index: -2;
    }
    nav {
      width: 100%;
      background: rgba(0,0,0,0.6);
      border-bottom: 1px solid #c58b00;
      padding: 0.8rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: fixed;
      top: 0;
      z-index: 10;
    }
    nav .brand {
      font-size: 1.5rem;
      font-weight: bold;
      color: #ffc107;
    }
    .main {
      padding: 120px 20px 60px;
      max-width: 950px;
      margin: auto;
    }
    .section {
      background: rgba(0,0,0,0.5);
      border: 1px solid #c58b00;
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(0,0,0,0.5);
    }
    h1 {
      color: #ffc107;
      text-align: center;
      margin-bottom: 1.2rem;
    }
    p { margin-bottom: 1rem; }
    .btn {
      display: inline-block;
      background: rgba(0,0,0,0.5);
      color: #ffc107;
      border: 1px solid #c58b00;
      padding: 10px 18px;
      border-radius: 8px;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.2s ease;
      margin-right: 10px;
      margin-top: 10px;
    }
    .btn:hover {
      background: rgba(255,193,7,0.1);
    }
    textarea {
      width: 100%;
      height: 150px;
      background: #111;
      color: #ffc107;
      border: 1px solid #c58b00;
      border-radius: 8px;
      padding: 10px;
      font-family: monospace;
      resize: vertical;
      margin-top: 0.5rem;
    }
    .output {
      margin-top: 1.2rem;
      background: #111;
      border: 1px solid #c58b00;
      border-radius: 8px;
      padding: 1rem;
      color: #ffde6a;
      font-family: monospace;
      line-height: 1.5;
      white-space: pre-wrap;
    }
    footer {
      text-align: center;
      padding: 2rem;
      color: #c58b00;
    }
  </style>
</head>
<body>

  <video class="bg-video" autoplay loop muted playsinline>
    <source src="background/1761817527453041720p.mp4" type="video/mp4">
  </video>

  <audio id="bg-music" loop>
    <source src="background/Programming___Coding___Hacking_music_vol.18__ANONYMOUS_HEADQUARTERS_(48k).mp3" type="audio/mpeg">
  </audio>

  <nav>
    <div class="brand">Randomness Tester</div>
  </nav>

  <div class="main">
    <div class="section">
      <h1>ğŸ² Randomness Tester</h1>
      <p>Enter a binary or text sequence, or generate a random sample. Then test its randomness using Frequency, Runs, Entropy, and Chi-Square methods.</p>
      
      <textarea id="dataInput" placeholder="Enter binary (0/1) data or random text here..."></textarea>
      
      <button class="btn" onclick="generateRandomData()">Generate Random Data</button>
      <button class="btn" onclick="analyzeRandomness()">Run Randomness Tests</button>

      <div class="output" id="output">ğŸ§  Output will appear here...</div>
    </div>
  </div>

  <footer>Â© 2025 Cyber Tools Toolkit â€” Zorathedevdeveloper00</footer>

  <script>
    // Play background music on first click
    window.addEventListener('click', () => {
      document.getElementById("bg-music").play().catch(() => {});
    }, { once: true });

    function generateRandomData() {
      const length = 256;
      let data = "";
      for (let i = 0; i < length; i++) data += Math.random() < 0.5 ? "0" : "1";
      document.getElementById("dataInput").value = data;
      document.getElementById("output").innerText = "âœ… Generated 256-bit random binary sequence.";
    }

    function analyzeRandomness() {
      const input = document.getElementById("dataInput").value.trim();
      if (!input) return alert("Please enter or generate data first!");
      const data = input.replace(/[^01]/g, "");
      if (data.length < 10) return alert("Data must contain at least 10 binary characters (0 or 1).");

      const freq = frequencyTest(data);
      const runs = runsTest(data);
      const entropyVal = entropy(data);
      const chi = chiSquareTest(data);

      const output = `
ğŸ“Š RANDOMNESS TEST REPORT
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ”¹ Input length: ${data.length} bits

1ï¸âƒ£ Frequency Test (Balance)
   - Zeroes: ${freq.zeros}
   - Ones: ${freq.ones}
   - Ratio (1s:0s): ${(freq.ones / freq.zeros).toFixed(3)}
   - Result: ${freq.result}

2ï¸âƒ£ Runs Test
   - Total runs: ${runs.totalRuns}
   - Expected runs: ${runs.expected.toFixed(2)}
   - Result: ${runs.result}

3ï¸âƒ£ Entropy Test
   - Entropy: ${entropyVal.toFixed(4)} bits/bit
   - Result: ${entropyVal > 0.95 ? "âœ… High randomness" : "âš ï¸ Low randomness"}

4ï¸âƒ£ Chi-Square Test
   - Value: ${chi.value.toFixed(3)}
   - p-value (approx): ${chi.p.toFixed(3)}
   - Result: ${chi.result}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ§  Summary: ${summaryReport(freq, runs, entropyVal, chi)}
`;
      document.getElementById("output").innerText = output;
    }

    function frequencyTest(bits) {
      const zeros = bits.split('0').length - 1;
      const ones = bits.split('1').length - 1;
      const diff = Math.abs(zeros - ones);
      const result = diff / bits.length < 0.1 ? "âœ… Balanced" : "âš ï¸ Biased";
      return { zeros, ones, result };
    }

    function runsTest(bits) {
      let runs = 1;
      for (let i = 1; i < bits.length; i++) if (bits[i] !== bits[i-1]) runs++;
      const pi = bits.split('1').length / bits.length;
      const expected = 2 * bits.length * pi * (1 - pi);
      const diff = Math.abs(runs - expected);
      const result = diff / expected < 0.2 ? "âœ… Normal" : "âš ï¸ Unusual";
      return { totalRuns: runs, expected, result };
    }

    function entropy(bits) {
      const zeros = bits.split('0').length - 1;
      const ones = bits.split('1').length - 1;
      const p0 = zeros / bits.length;
      const p1 = ones / bits.length;
      return -(p0 * Math.log2(p0 || 1) + p1 * Math.log2(p1 || 1));
    }

    function chiSquareTest(bits) {
      const zeros = bits.split('0').length - 1;
      const ones = bits.split('1').length - 1;
      const expected = bits.length / 2;
      const value = ((zeros - expected) ** 2 + (ones - expected) ** 2) / expected;
      const p = Math.exp(-0.5 * value); // Approximation
      const result = p > 0.05 ? "âœ… Uniform" : "âš ï¸ Non-uniform";
      return { value, p, result };
    }

    function summaryReport(f, r, e, c) {
      let score = 0;
      if (f.result.includes("âœ…")) score++;
      if (r.result.includes("âœ…")) score++;
      if (e > 0.95) score++;
      if (c.result.includes("âœ…")) score++;
      return score >= 3 ? "âœ… Sequence appears random" : "âš ï¸ Sequence shows low randomness";
    }
  </script>
</body>
</html>
