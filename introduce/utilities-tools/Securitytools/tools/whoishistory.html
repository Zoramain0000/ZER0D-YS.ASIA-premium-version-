<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Cyber Tools Toolkit â€” WHOIS History</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
<style>
:root {
  --gold:#c58b00;
  --gold-soft:#ffc107;
  --bg-dark:#0a0a0a;
  --border:rgba(197,139,0,0.5);
}

*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:"Segoe UI",system-ui,sans-serif;background:var(--bg-dark);color:var(--gold);overflow-x:hidden;}
video.bg-video{position:fixed;inset:0;width:100%;height:100%;object-fit:cover;z-index:-2;filter:brightness(0.35);}
nav{position:fixed;top:0;width:100%;height:64px;padding:0 24px;display:flex;justify-content:space-between;align-items:center;background:rgba(0,0,0,0.7);backdrop-filter:blur(10px);border-bottom:1px solid var(--border);z-index:10;}
.brand{font-size:1.4rem;font-weight:700;color:var(--gold);}
.start-btn{background:transparent;border:1px solid var(--gold);color:var(--gold);padding:8px 18px;border-radius:10px;cursor:pointer;transition:.25s;}
.start-btn:hover{background:var(--gold);color:black;}
.main-content{padding:100px 30px 40px;max-width:1200px;margin:auto;}
.section{background:linear-gradient(180deg,rgba(25,25,25,.85),rgba(10,10,10,.9));border:1px solid var(--border);border-radius:16px;padding:24px;margin-bottom:30px;box-shadow:0 0 25px rgba(0,0,0,.6);}
.section h2{color:var(--gold-soft);margin-bottom:16px;font-size:1.4rem;}
.tool-box{display:grid;gap:16px;}
.input-row{display:flex;gap:12px;flex-wrap:wrap;}
input{flex:1;padding:12px 14px;border-radius:10px;background:#0e0e0e;border:1px solid var(--border);color:#ffd;outline:none;}
button.action{padding:12px 20px;border-radius:10px;border:1px solid var(--gold);background:transparent;color:var(--gold);cursor:pointer;transition:.25s;}
button.action:hover{background:var(--gold);color:black;}
.status{font-size:.95rem;opacity:.9;}
.results{margin-top:15px;max-height:420px;overflow:auto;border:1px solid rgba(197,139,0,.3);border-radius:12px;padding:12px;background:rgba(0,0,0,.5);}
.results ul{list-style:none;display:grid;grid-template-columns:1fr;gap:8px;}
.results li{padding:8px 10px;border:1px solid rgba(197,139,0,.25);border-radius:8px;background:rgba(0,0,0,.4);font-size:.9rem;color:#ffeaa7;word-break:break-all;}
footer{text-align:center;padding:30px;color:var(--gold);opacity:.8;}
</style>
</head>
<body>

<video class="bg-video" autoplay muted loop playsinline>
  <source src="background/1761817527453041720p.mp4" type="video/mp4">
</video>

<nav>
  <div class="brand">Cyber Tools Toolkit</div>
  <button class="start-btn" onclick="location.reload()">Reload</button>
</nav>

<div class="main-content">

  <div class="section">
    <h2>ðŸ“œ WHOIS History Lookup</h2>

    <div class="tool-box">
      <div class="input-row">
        <input id="domainInput" placeholder="Enter domain (example.com)"/>
        <button class="action" onclick="fetchWhoisHistory()">Check WHOIS History</button>
      </div>

      <div class="status" id="statusText">
        Waiting for inputâ€¦
      </div>

      <div class="results" id="resultsBox">
        <ul id="resultList"></ul>
      </div>
    </div>
  </div>

</div>

<footer>
Â© 2025 Cyber Tools Toolkit â€” Frontend Only Â· API Powered
</footer>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
// WHOIS History API using https://whoisapi.com
// Replace 'YOUR_API_KEY_HERE' with your free API key
async function fetchWhoisHistory() {
  const domain = document.getElementById("domainInput").value.trim();
  const status = document.getElementById("statusText");
  const list = document.getElementById("resultList");
  list.innerHTML = "";

  if (!domain) {
    status.textContent = "Please enter a domain name.";
    return;
  }

  status.textContent = "Fetching WHOIS historyâ€¦";

  try {
    const apiKey = "at_bAJjoE9EXjP9o4rcisr7BjC2sMpkT";
    const url = `https://www.whoisxmlapi.com/whoisserver/WhoisHistoryAPI?apiKey=${apiKey}&domainName=${domain}&outputFormat=JSON`;

    const res = await fetch(url);
    if (!res.ok) throw new Error("API request failed");

    const data = await res.json();
    if (!data.HistoryRecords || data.HistoryRecords.length === 0) {
      status.textContent = "No WHOIS history found.";
      return;
    }

    data.HistoryRecords.forEach(record => {
      const li = document.createElement("li");
      li.innerHTML = `
        <strong>Registrar:</strong> ${record.registrarName || "N/A"}<br>
        <strong>Updated:</strong> ${record.updatedDate || "N/A"}<br>
        <strong>Created:</strong> ${record.createdDate || "N/A"}<br>
        <strong>Expires:</strong> ${record.expirationDate || "N/A"}<br>
        <strong>Name Servers:</strong> ${record.nameServers?.join(", ") || "N/A"}
      `;
      list.appendChild(li);
    });

    status.textContent = `Found ${data.HistoryRecords.length} WHOIS history records`;

  } catch (err) {
    status.textContent = "Failed to fetch data (API key invalid or blocked).";
  }
}

// Optional: Leaflet map if needed
const map = L.map("map").setView([20,0],3);
L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{
  attribution:"Â© OpenStreetMap contributors"
}).addTo(map);
</script>

</body>
</html>