<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cyber IP Tracker</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>

<style>
:root{
  --gold:#cfae55;
  --gold-soft:#ffdc7a;
  --bg:#0a0a0a;
  --border:rgba(207,174,85,.45);
}

*{margin:0;padding:0;box-sizing:border-box}

body{
  font-family:Segoe UI,system-ui;
  background:var(--bg);
  color:var(--gold);
  overflow-x:hidden;
}

/* VIDEO BG */
video.bg{
  position:fixed;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  filter:brightness(.35);
  z-index:-2;
}

/* NAV */
nav{
  position:fixed;
  top:0;
  width:100%;
  height:64px;
  padding:0 24px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:rgba(0,0,0,.7);
  backdrop-filter:blur(12px);
  border-bottom:1px solid var(--border);
  z-index:20;
}

.brand{
  font-size:1.4rem;
  font-weight:700;
}

button{
  background:transparent;
  color:var(--gold);
  border:1px solid var(--gold);
  padding:8px 16px;
  border-radius:10px;
  cursor:pointer;
  transition:.25s;
}

button:hover{
  background:var(--gold);
  color:black;
}

/* LAYOUT */
.main{
  padding:100px 30px 40px;
  max-width:1200px;
  margin:auto;
}

.section{
  background:linear-gradient(180deg,#151515,#090909);
  border:1px solid var(--border);
  border-radius:16px;
  padding:24px;
  box-shadow:0 0 25px rgba(0,0,0,.6);
  margin-bottom:30px;
}

.section h2{
  color:var(--gold-soft);
  margin-bottom:16px;
}

/* INPUT */
input{
  width:100%;
  padding:12px;
  background:#111;
  border:1px solid var(--border);
  border-radius:10px;
  color:white;
  margin-bottom:10px;
}

/* GRID */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:16px;
}

/* OUTPUT */
pre{
  background:#000;
  border-radius:12px;
  padding:14px;
  max-height:350px;
  overflow:auto;
  font-size:.9rem;
  color:#8dff9b;
}

/* MAP */
#map{
  height:420px;
  border-radius:14px;
  border:1px solid var(--border);
}

/* INFO BOX */
.info{
  background:rgba(0,0,0,.5);
  border:1px solid var(--border);
  border-radius:12px;
  padding:14px;
  line-height:1.6;
}

.info b{
  color:#ffd966;
}

footer{
  text-align:center;
  padding:25px;
  opacity:.7;
}
</style>
</head>

<body>

<video class="bg" autoplay muted loop playsinline>
  <source src="background/1761817527453041720p.mp4" type="video/mp4">
</video>

<nav>
  <div class="brand">Cyber IP Tracker</div>
  <button onclick="location.reload()">Reload</button>
</nav>

<div class="main">

<!-- IP TRACKER -->
<div class="section">
  <h2>üåê Advanced IP Tracker (Real API)</h2>

  <div class="grid">
    <div>
      <button onclick="detectMyIP()">Detect My IP</button>
      <input id="ipInput" placeholder="Enter IPv4 / IPv6 address">
      <button onclick="lookupIP()">Track IP</button>
    </div>

    <div class="info" id="infoBox">
      Waiting for lookup...
    </div>
  </div>

  <br>

  <pre id="rawOutput"></pre>
</div>

<!-- MAP -->
<div class="section">
  <h2>üó∫Ô∏è Geolocation Map</h2>
  <div id="map"></div>
</div>

</div>

<footer>
¬© 2025 Cyber Tools Toolkit ‚Äî Frontend Only ¬∑ No Backend ¬∑ API Powered
</footer>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<script>
let map = L.map("map").setView([20,0], 2);
let marker;

L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
  attribution: "¬© OpenStreetMap contributors"
}).addTo(map);

/* Detect own IP */
async function detectMyIP(){
  const res = await fetch("https://api.ipify.org?format=json");
  const data = await res.json();
  document.getElementById("ipInput").value = data.ip;
  lookupIP();
}

/* Lookup IP */
async function lookupIP(){
  const ip = document.getElementById("ipInput").value.trim();
  if(!ip) return;

  const res = await fetch(`https://ipapi.co/${ip}/json/`);
  const data = await res.json();

  document.getElementById("rawOutput").textContent =
    JSON.stringify(data, null, 2);

  document.getElementById("infoBox").innerHTML = `
    <b>IP:</b> ${data.ip || "N/A"}<br>
    <b>Country:</b> ${data.country_name || "N/A"}<br>
    <b>Region:</b> ${data.region || "N/A"}<br>
    <b>City:</b> ${data.city || "N/A"}<br>
    <b>ISP:</b> ${data.org || "N/A"}<br>
    <b>ASN:</b> ${data.asn || "N/A"}<br>
    <b>Timezone:</b> ${data.timezone || "N/A"}<br>
    <b>Postal:</b> ${data.postal || "N/A"}
  `;

  if(data.latitude && data.longitude){
    if(marker) map.removeLayer(marker);

    marker = L.marker([data.latitude, data.longitude])
      .addTo(map)
      .bindPopup(`<b>${data.city || ""}</b><br>${data.country_name || ""}`)
      .openPopup();

    map.setView([data.latitude, data.longitude], 8);
  }
}
</script>

</body>
</html>